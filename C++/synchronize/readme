线程同步常用方式：
1. 互斥锁(pthread_mutex)
2. 无锁队列(CAS)

进程同步常用方式：
1. 文件锁（记录锁）
2. 信号量
3. 用一个标志位看是否可写，或者用crc32或md5校验，保证写入时是原子操作。